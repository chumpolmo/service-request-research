{"ast":null,"code":"var _jsxFileName = \"D:\\\\Research\\\\IoTs-NER_Model\\\\NER_Model\\\\Implementation\\\\servreq-app-b\\\\ner-frontend\\\\src\\\\NERText.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n// Firebase configuration\nimport { db } from './config/firebaseConfig';\nimport { collection, addDoc, getDocs, deleteDoc, doc, serverTimestamp } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NERText = ({\n  data,\n  formInput\n}) => {\n  _s();\n  const [inputText, setInputText] = useState(formInput);\n  const [text, setText] = useState({\n    \"SrCreated\": null | \"0000-00-00 00:00:00\",\n    \"SrCreatedBy\": \"\",\n    \"SrDescription\": \"\",\n    \"SrId\": \"\",\n    \"SrNote\": \"\",\n    \"SrPriority\": \"\",\n    \"SrStatus\": 10,\n    \"SrUpdated\": null | \"0000-00-00 00:00:00\",\n    \"SrUpdatedBy\": \"\"\n  });\n\n  // ฟังก์ชันสำหรับรวม token ย่อย (##) ให้เป็นคำเดียว\n  const mergeTokens = tokens => {\n    const merged = [];\n    let currentToken = \"\";\n    let currentLabel = \"\";\n    let currentConfidence = 0;\n    tokens.forEach((t, index) => {\n      // ดึง label ที่ confidence สูงสุดจาก all_probs\n      const highestLabel = Object.entries(t.all_probs).reduce((max, [label, prob]) => prob > max.prob ? {\n        label,\n        prob\n      } : max, {\n        label: \"\",\n        prob: 0\n      });\n\n      // ข้าม label ที่เป็น \"O\"\n      if (highestLabel.label === \"O\") return;\n      if (t.token.startsWith(\"##\")) {\n        currentToken += t.token.replace(\"##\", \"\");\n      } else {\n        // alert(\"Token: \" + currentToken + \" | Label: \" + currentLabel + \" | Confidence: \" + currentConfidence);\n        if (currentToken) {\n          // push token ก่อนหน้า\n          merged.push({\n            token: currentToken,\n            label: currentLabel,\n            confidence: currentConfidence\n          });\n        }\n        // เริ่ม token ใหม่\n        currentToken = t.token;\n        currentLabel = highestLabel.label;\n        currentConfidence = highestLabel.prob;\n      }\n\n      // กรณี token สุดท้าย\n      if (index === tokens.length - 1) {\n        if (currentToken) {\n          merged.push({\n            token: currentToken,\n            label: currentLabel,\n            confidence: currentConfidence\n          });\n        }\n      }\n    });\n    return merged;\n  };\n  const mergedTokens = mergeTokens(data);\n  const result = {};\n  const textWithEntities = mergedTokens.map((t, idx) => {\n    return result[t.label] = {\n      text: t.token,\n      confidence: t.confidence\n    };\n  }); //.join(\"#ENT#\");\n\n  const textLabelMap = () => {\n    for (const t of result) {\n      const existing = textLabelMap[t.label];\n      if (!existing) {\n        // ถ้ามี label เดิมอยู่แล้ว ให้รวม confidence\n        textLabelMap[t.label] = {\n          label: t.text,\n          confidence: t.confidence\n        };\n      } else if (t.confidence > existing.confidence) {\n        // ถ้า confidence ของ label ใหม่สูงกว่าเดิม ให้แทนที่\n        textLabelMap[t.label] = {\n          text: t.text,\n          confidence: t.confidence\n        };\n      }\n    }\n    return textLabelMap;\n  };\n  const getPriority = entities => {\n    const equipmentKeywordsHigh = ['อินเทอร์เน็ต', 'internet', 'wi-fi', 'wifi', 'ไวไฟ', 'เครื่องสำรองไฟ', 'เครื่อง ups', 'ups', 'เครื่องคอมพิวเตอร์ตั้งโต๊ะ', 'คอมพิวเตอร์notebook', 'เครื่องปรับอากาศ', 'air', 'แอร์', 'notebook', 'คอมพิวเตอร์โน้ตบุ๊ค', 'wi fi', 'air containing', 'aircontaining', 'เครื่องโปรเจคเตอร์', 'projector', 'สายhdmi', 'สายvga', 'เก้าอี้', 'ช่องเสียบสายสัญญาณอินเทอร์เน็ต', 'ช่องเสียบสายแลน', 'เมาส์', 'mouse', 'ไวท์บอร์ด', 'เครื่องพิมพ์เอกสาร', 'เครื่องprint', 'printer', 'เครื่องพิมพ์', 'เครื่องprinter', 'เมาส์', 'mouse', 'คีย์บอร์ด', 'keyboard', 'กระดาน', 'whiteboard', 'กระดานไวท์บอร์ด', 'โปรเจคเตอร์', 'จอคอมพิวเตอร์', 'monitor', 'สายแลน', 'คอม', 'เบรกเกอร์', 'breaker', 'ups', 'สายชาร์จ', 'powerbank', 'power bank', 'คอมพิวเตอร์', 'หน้าจอ', 'คอมพิวเตอร์โน้ตบุ๊ก', 'โน้ตบุ๊ก', 'laptop', 'หน้าจอคอมพิวเตอร์', 'เครื่องคอมพิวเตอร์', 'ชักโครก', 'vpn', 'ไมค์โครโฟน', 'ไมโครโฟน', 'ลำโพง', 'speaker', 'แป้นพิมพ์', 'keyboard', 'เมาส์', 'หลอดไฟ', 'หลอดไฟฟ้า', 'ลิฟต์', 'ปุ่มกดลิฟต์', 'อุปกรณ์', 'device', 'ห้องน้ำ', 'โต๊ะเรียน', 'ซอฟต์แวร์'];\n    const issueHigh = ['เปิดไม่ติด', 'เปิดไม่ได้', 'ใช้งานไม่ได้', 'ทำงานไม่ได้', 'ไม่ทำงาน', 'เชื่อมต่อไม่ได้', 'ไม่สามารถเชื่อมต่อได้', 'ไม่สามารถใช้งานได้', 'ไม่สามารถเปิดได้', 'พัง', 'ชำรุด', 'เสีย', 'ไม่พิมพ์', 'ไม่แสดงผล', 'หมึกหมด', 'off', 'trip', 'ทริป', 'แบตเตอรี่หมด', 'แบตเตอรี่ไม่ชาร์จ', 'แบตเตอรี่ไม่ทำงาน', 'ไฟดูด', 'ใช้อินเทอร์เน็ตไม่ได้', 'หน่วยความจำเต็ม', 'ไม่ติด', 'ไม่ได้', 'พิมพ์ไม่ได้'];\n    const issueMedium = ['ขาดๆหายๆ', 'ติดๆดับๆ', 'มาๆหายๆ', 'ทำงานช้า', 'สีเพี้ยน', 'สีไม่ปกติ', 'ไม่ชัด', 'ภาพเบลอ', 'เสียงดัง', 'มีเสียงดัง', 'มีเสียง', 'กระพริบ', 'ติดตั้งไม่สำเร็จ', 'ติดตั้งซอฟต์แวร์ไม่ได้', 'แบตเตอร์รี่เสื่อม', 'แบตเตอรี่เสื่อม', 'ติดตั้งโปรแกรมไม่ได้', 'ติดตั้งโปรแกรมไม่สำเร็จ', 'ติดตั้งโปรแกรมไม่เสร็จ', 'ไม่พร้อมใช้งาน', 'สัญญาณไม่ดี', 'สัญญาณไม่ค่อยดี'];\n    const issueLow = ['ลบไม่สะอาด', 'สัญญาณอ่อน', 'ไม่ชัด', 'ภาพเบลอ', 'สัญญาณค่อนข้างอ่อน', 'ไม่เสถียร', 'พื้นที่จำกัด', 'ไม่สะดวกในการใช้งาน', 'ไม่เย็น', 'สัญญาณอ่อน', 'เก่า', 'ไม่สะอาด', 'เสียงไม่ดัง', 'เสียงไม่ชัด', 'ใช้งานไม่ดี', 'ไม่ค่อยชัด', 'ใช้ได้บางครั้ง', 'แสดงผลได้ไม่ดี', 'แสดงผลไม่ดี', 'แสดงผลไม่ชัดเจน', 'แสดงผลไม่ชัด', 'แสดงผลไม่ค่อยชัด', 'แสดงผลไม่ค่อยชัดเจน', 'หมึกจาง', 'เกิดปัญหา', 'มีน้ำหยด', 'น้ำหยด', 'ใช้งานได้ไม่ดี', 'สัญญาณไม่เสถียร', 'สัญญาณไม่ค่อยเสถียร', 'สัญญาณไม่ค่อยแรง', 'สัญญาณไม่แรง', 'โหลดซอฟต์แวร์ช้า', 'ความเร็วลดลง', 'ใช้งานสะดุด'];\n    const equipmentTexts = entities.filter(e => e.label === 'B-EQUIPMENT').map(e => e.token.toLowerCase());\n    const issueTexts = entities.filter(e => e.label === 'B-ISSUE').map(e => e.token.toLowerCase());\n    console.log(\"Equipment: \" + JSON.stringify(equipmentTexts) + \"\\nIssue: \" + JSON.stringify(issueTexts));\n\n    // Rule: High\n    if (equipmentTexts.some(p => equipmentKeywordsHigh.some(pk => p.includes(pk))) && issueTexts.some(i => issueHigh.some(ih => i.includes(ih)))) {\n      return \"High\";\n    }\n\n    // Rule: Medium\n    if (issueTexts.some(i => issueMedium.some(im => i.includes(im)))) {\n      return \"Medium\";\n    }\n\n    // Rule: Low\n    if (issueTexts.some(i => issueLow.some(il => i.includes(il)))) {\n      return \"Low\";\n    }\n    return \"Unknown\";\n  };\n  const priority = getPriority(mergedTokens);\n  const addItem = async (formInput, priority) => {\n    if (!formInput || !priority) {\n      alert(\"กรุณากรอกข้อมูลคำร้องขอบริการและการจัดลำดับความสำคัญ!\");\n      return;\n    }\n    try {\n      // สถานะเริ่มต้น (เช่น 10 สำหรับ \"เปิดคำร้อง\", 20 สำหรับ \"รับคำร้อง\", 30 สำหรับ \"ไม่รับคำร้อง\", 40 สำหรับ \"กำลังดำเนินการ\", 50 สำหรับ \"ปิดคำร้อง\")\n      let objSr = {\n        SrCreated: serverTimestamp(),\n        SrCreatedBy: \"zpHahY3AcpoKKFWYyzRG\",\n        SrDescription: formInput,\n        SrId: \"SR-\" + Math.floor(Math.random() * 1000000),\n        SrNote: \"\",\n        SrPriority: priority,\n        SrStatus: 10,\n        SrUpdated: null,\n        SrUpdatedBy: \"\"\n      };\n      await addDoc(collection(db, \"ServiceRequest\"), objSr);\n      console.log(objSr);\n      console.log(\"Document successfully written!\");\n    } catch (err) {\n      alert(\"การบันทึกคำร้องขอบริการเกิดข้อผิดพลาด!\");\n      console.error(\"Error adding document: \", err);\n    } finally {\n      alert(\"บันทึกคำร้องขอบริการสำเร็จ!\");\n      setText({\n        \"SrCreated\": serverTimestamp(),\n        \"SrCreatedBy\": \"\",\n        \"SrDescription\": \"\",\n        \"SrId\": \"\",\n        \"SrNote\": \"\",\n        \"SrPriority\": \"\",\n        \"SrStatus\": 10,\n        \"SrUpdated\": null | \"0000-00-00 00:00:00\",\n        \"SrUpdatedBy\": \"\"\n      });\n    }\n  };\n  let isMounted = true;\n  useEffect(() => {\n    if (isMounted) {\n      addItem(inputText, priority);\n      isMounted = false;\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"auto\",\n      width: \"100%\",\n      padding: \"1rem\",\n      border: \"none\",\n      borderRadius: \"5px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fa fa-search\",\n        style: {\n          color: \"#40c6ed\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: \"5px\",\n          fontWeight: \"bold\"\n        },\n        children: \" \\u0E01\\u0E32\\u0E23\\u0E27\\u0E34\\u0E40\\u0E04\\u0E23\\u0E32\\u0E30\\u0E2B\\u0E4C\\u0E04\\u0E33\\u0E23\\u0E49\\u0E2D\\u0E07\\u0E02\\u0E2D\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23 (Service Request Analysis)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: \"100%\",\n        borderCollapse: \"collapse\",\n        marginTop: \"1rem\",\n        marginBottom: \"2rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            backgroundColor: \"#f2f2f2\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              borderCollapse: \"collapse\",\n              borderTop: \"2px solid #CCC\",\n              borderBottom: \"2px solid #CCC\",\n              padding: \"3px\"\n            },\n            children: \"Token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              borderCollapse: \"collapse\",\n              borderTop: \"2px solid #CCC\",\n              borderBottom: \"2px solid #CCC\",\n              padding: \"3px\"\n            },\n            children: \"Label\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              borderCollapse: \"collapse\",\n              borderTop: \"2px solid #CCC\",\n              borderBottom: \"2px solid #CCC\",\n              padding: \"3px\"\n            },\n            children: \"Confidence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 7\n      }, this), JSON.stringify(textLabelMap, null, 2),\n      //textWithEntities.split(\"#ENT#\").map((ent, idx) => {\n      textWithEntities.map((ent, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              borderCollapse: \"collapse\",\n              borderBottom: \"1px solid #CCC\",\n              padding: \"5px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `entity ${ent.label}`,\n              children: ent.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 103\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              borderCollapse: \"collapse\",\n              borderBottom: \"1px solid #CCC\",\n              padding: \"5px\",\n              alignContent: \"center\"\n            },\n            children: ent.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              borderCollapse: \"collapse\",\n              borderBottom: \"1px solid #CCC\",\n              padding: \"5px\",\n              alignContent: \"center\"\n            },\n            children: ent.confidence\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n      class: \"fa fa-sort-numeric-asc\",\n      style: {\n        color: \"#40c6ed\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginLeft: \"5px\",\n        fontWeight: \"bold\"\n      },\n      children: \" \\u0E01\\u0E32\\u0E23\\u0E08\\u0E31\\u0E14\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E04\\u0E27\\u0E32\\u0E21\\u0E2A\\u0E33\\u0E04\\u0E31\\u0E0D\\u0E04\\u0E33\\u0E23\\u0E49\\u0E2D\\u0E07\\u0E02\\u0E2D\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23 (Service Request Priority)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\"\n      },\n      class: priority,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Priority\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }, this), \": \", priority, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 3\n  }, this);\n};\n_s(NERText, \"LJHFcpLkkHKUB4uDdKTNCsbbdGA=\");\n_c = NERText;\nexport default NERText;\nvar _c;\n$RefreshReg$(_c, \"NERText\");","map":{"version":3,"names":["React","useState","useEffect","db","collection","addDoc","getDocs","deleteDoc","doc","serverTimestamp","jsxDEV","_jsxDEV","NERText","data","formInput","_s","inputText","setInputText","text","setText","mergeTokens","tokens","merged","currentToken","currentLabel","currentConfidence","forEach","t","index","highestLabel","Object","entries","all_probs","reduce","max","label","prob","token","startsWith","replace","push","confidence","length","mergedTokens","result","textWithEntities","map","idx","textLabelMap","existing","getPriority","entities","equipmentKeywordsHigh","issueHigh","issueMedium","issueLow","equipmentTexts","filter","e","toLowerCase","issueTexts","console","log","JSON","stringify","some","p","pk","includes","i","ih","im","il","priority","addItem","alert","objSr","SrCreated","SrCreatedBy","SrDescription","SrId","Math","floor","random","SrNote","SrPriority","SrStatus","SrUpdated","SrUpdatedBy","err","error","isMounted","style","margin","width","padding","border","borderRadius","children","class","color","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","fontWeight","borderCollapse","marginTop","marginBottom","backgroundColor","borderTop","borderBottom","ent","className","alignContent","_c","$RefreshReg$"],"sources":["D:/Research/IoTs-NER_Model/NER_Model/Implementation/servreq-app-b/ner-frontend/src/NERText.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// Firebase configuration\r\nimport { db } from './config/firebaseConfig';\r\nimport { collection, addDoc, getDocs, deleteDoc, doc, serverTimestamp } from 'firebase/firestore';\r\n\r\nconst NERText = ({ data, formInput }) => {\r\n    const [inputText, setInputText] = useState(formInput);\r\n    const [text, setText] = useState(\r\n      {\r\n        \"SrCreated\" : null | \"0000-00-00 00:00:00\",\r\n        \"SrCreatedBy\" : \"\",\r\n        \"SrDescription\" : \"\",\r\n        \"SrId\" : \"\",\r\n        \"SrNote\" : \"\",\r\n        \"SrPriority\" : \"\",\r\n        \"SrStatus\" : 10,\r\n        \"SrUpdated\" : null | \"0000-00-00 00:00:00\",\r\n        \"SrUpdatedBy\" : \"\"\r\n      }\r\n    );\r\n\r\n    // ฟังก์ชันสำหรับรวม token ย่อย (##) ให้เป็นคำเดียว\r\n    const mergeTokens = (tokens) => {\r\n        const merged = [];\r\n        let currentToken = \"\";\r\n        let currentLabel = \"\";\r\n        let currentConfidence = 0;\r\n\r\n        tokens.forEach((t, index) => {\r\n        // ดึง label ที่ confidence สูงสุดจาก all_probs\r\n        const highestLabel = Object.entries(t.all_probs).reduce(\r\n            (max, [label, prob]) => prob > max.prob ? { label, prob } : max,\r\n            { label: \"\", prob: 0 }\r\n        );\r\n\r\n        // ข้าม label ที่เป็น \"O\"\r\n        if (highestLabel.label === \"O\") return;\r\n\r\n        if (t.token.startsWith(\"##\")) {\r\n            currentToken += t.token.replace(\"##\", \"\");\r\n        } else {\r\n            // alert(\"Token: \" + currentToken + \" | Label: \" + currentLabel + \" | Confidence: \" + currentConfidence);\r\n            if (currentToken) {\r\n                // push token ก่อนหน้า\r\n                merged.push({\r\n                    token: currentToken,\r\n                    label: currentLabel,\r\n                    confidence: currentConfidence,\r\n                });\r\n            }\r\n            // เริ่ม token ใหม่\r\n            currentToken = t.token;\r\n            currentLabel = highestLabel.label;\r\n            currentConfidence = highestLabel.prob;\r\n        }\r\n\r\n        // กรณี token สุดท้าย\r\n        if (index === tokens.length - 1) {\r\n            if (currentToken) {\r\n                merged.push({\r\n                    token: currentToken,\r\n                    label: currentLabel,\r\n                    confidence: currentConfidence,\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    return merged;\r\n};\r\n\r\nconst mergedTokens = mergeTokens(data);\r\n\r\nconst result = {};\r\nconst textWithEntities = mergedTokens.map((t, idx) => {\r\n      return result[t.label] = {\r\n        text: t.token,\r\n        confidence: t.confidence\r\n      };\r\n}); //.join(\"#ENT#\");\r\n\r\nconst textLabelMap = (() => {\r\n    for(const t of result){\r\n      const existing = textLabelMap[t.label];\r\n      if (!existing) {\r\n          // ถ้ามี label เดิมอยู่แล้ว ให้รวม confidence\r\n          textLabelMap[t.label] = { label: t.text, confidence: t.confidence };\r\n      } else if(t.confidence > existing.confidence) {\r\n          // ถ้า confidence ของ label ใหม่สูงกว่าเดิม ให้แทนที่\r\n          textLabelMap[t.label] = {\r\n              text: t.text,\r\n              confidence: t.confidence\r\n          };\r\n      }\r\n    }\r\n    return textLabelMap;\r\n});\r\n\r\nconst getPriority = (entities) => {\r\n    const equipmentKeywordsHigh = [\r\n        'อินเทอร์เน็ต', 'internet', 'wi-fi', 'wifi', 'ไวไฟ', 'เครื่องสำรองไฟ', 'เครื่อง ups', 'ups',\r\n        'เครื่องคอมพิวเตอร์ตั้งโต๊ะ', 'คอมพิวเตอร์notebook', 'เครื่องปรับอากาศ', 'air', 'แอร์', 'notebook', 'คอมพิวเตอร์โน้ตบุ๊ค',\r\n        'wi fi', 'air containing', 'aircontaining', 'เครื่องโปรเจคเตอร์', 'projector', 'สายhdmi', 'สายvga',\r\n        'เก้าอี้', 'ช่องเสียบสายสัญญาณอินเทอร์เน็ต', 'ช่องเสียบสายแลน', 'เมาส์', 'mouse', 'ไวท์บอร์ด',\r\n        'เครื่องพิมพ์เอกสาร', 'เครื่องprint', 'printer', 'เครื่องพิมพ์', 'เครื่องprinter', 'เมาส์', 'mouse', 'คีย์บอร์ด', 'keyboard',\r\n        'กระดาน', 'whiteboard', 'กระดานไวท์บอร์ด', 'โปรเจคเตอร์', 'จอคอมพิวเตอร์', 'monitor', 'สายแลน', 'คอม',\r\n        'เบรกเกอร์', 'breaker', 'ups', 'สายชาร์จ', 'powerbank', 'power bank', 'คอมพิวเตอร์', 'หน้าจอ',\r\n        'คอมพิวเตอร์โน้ตบุ๊ก', 'โน้ตบุ๊ก', 'laptop', 'หน้าจอคอมพิวเตอร์', 'เครื่องคอมพิวเตอร์', 'ชักโครก',\r\n        'vpn', 'ไมค์โครโฟน', 'ไมโครโฟน', 'ลำโพง', 'speaker', 'แป้นพิมพ์', 'keyboard', 'เมาส์',\r\n        'หลอดไฟ', 'หลอดไฟฟ้า', 'ลิฟต์', 'ปุ่มกดลิฟต์', 'อุปกรณ์', 'device', 'ห้องน้ำ', 'โต๊ะเรียน', 'ซอฟต์แวร์'\r\n    ];\r\n    const issueHigh = [\r\n        'เปิดไม่ติด', 'เปิดไม่ได้', 'ใช้งานไม่ได้', 'ทำงานไม่ได้', 'ไม่ทำงาน', 'เชื่อมต่อไม่ได้', 'ไม่สามารถเชื่อมต่อได้', 'ไม่สามารถใช้งานได้',\r\n        'ไม่สามารถเปิดได้', 'พัง', 'ชำรุด', 'เสีย', 'ไม่พิมพ์', 'ไม่แสดงผล', 'หมึกหมด', 'off', 'trip', 'ทริป', 'แบตเตอรี่หมด', 'แบตเตอรี่ไม่ชาร์จ',\r\n        'แบตเตอรี่ไม่ทำงาน', 'ไฟดูด', 'ใช้อินเทอร์เน็ตไม่ได้', 'หน่วยความจำเต็ม', 'ไม่ติด', 'ไม่ได้', 'พิมพ์ไม่ได้',\r\n    ];\r\n    const issueMedium = [\r\n        'ขาดๆหายๆ', 'ติดๆดับๆ', 'มาๆหายๆ', 'ทำงานช้า', 'สีเพี้ยน', 'สีไม่ปกติ', 'ไม่ชัด', 'ภาพเบลอ',\r\n        'เสียงดัง', 'มีเสียงดัง', 'มีเสียง', 'กระพริบ', 'ติดตั้งไม่สำเร็จ', 'ติดตั้งซอฟต์แวร์ไม่ได้', 'แบตเตอร์รี่เสื่อม', 'แบตเตอรี่เสื่อม',\r\n        'ติดตั้งโปรแกรมไม่ได้', 'ติดตั้งโปรแกรมไม่สำเร็จ', 'ติดตั้งโปรแกรมไม่เสร็จ', 'ไม่พร้อมใช้งาน', 'สัญญาณไม่ดี', 'สัญญาณไม่ค่อยดี',\r\n    ];\r\n    const issueLow = [\r\n        'ลบไม่สะอาด', 'สัญญาณอ่อน', 'ไม่ชัด', 'ภาพเบลอ', 'สัญญาณค่อนข้างอ่อน', 'ไม่เสถียร', 'พื้นที่จำกัด', 'ไม่สะดวกในการใช้งาน', 'ไม่เย็น',\r\n        'สัญญาณอ่อน', 'เก่า', 'ไม่สะอาด', 'เสียงไม่ดัง', 'เสียงไม่ชัด', 'ใช้งานไม่ดี', 'ไม่ค่อยชัด', 'ใช้ได้บางครั้ง', 'แสดงผลได้ไม่ดี', 'แสดงผลไม่ดี',\r\n        'แสดงผลไม่ชัดเจน', 'แสดงผลไม่ชัด', 'แสดงผลไม่ค่อยชัด', 'แสดงผลไม่ค่อยชัดเจน', 'หมึกจาง', 'เกิดปัญหา', 'มีน้ำหยด', 'น้ำหยด', 'ใช้งานได้ไม่ดี',\r\n        'สัญญาณไม่เสถียร', 'สัญญาณไม่ค่อยเสถียร', 'สัญญาณไม่ค่อยแรง', 'สัญญาณไม่แรง', 'โหลดซอฟต์แวร์ช้า', 'ความเร็วลดลง', 'ใช้งานสะดุด',\r\n    ];\r\n\r\n    const equipmentTexts = entities\r\n        .filter(e => e.label === 'B-EQUIPMENT')\r\n        .map(e => e.token.toLowerCase());\r\n    const issueTexts = entities\r\n        .filter(e => e.label === 'B-ISSUE')\r\n        .map(e => e.token.toLowerCase());\r\n\r\n    console.log(\"Equipment: \" + JSON.stringify(equipmentTexts) + \"\\nIssue: \" + JSON.stringify(issueTexts));\r\n\r\n    // Rule: High\r\n    if (\r\n        equipmentTexts.some(p => equipmentKeywordsHigh.some(pk => p.includes(pk))) &&\r\n        issueTexts.some(i => issueHigh.some(ih => i.includes(ih)))\r\n    ) {\r\n        return \"High\";\r\n    }\r\n\r\n    // Rule: Medium\r\n    if (issueTexts.some(i => issueMedium.some(im => i.includes(im)))) {\r\n        return \"Medium\";\r\n    }\r\n\r\n    // Rule: Low\r\n    if (issueTexts.some(i => issueLow.some(il => i.includes(il)))) {\r\n        return \"Low\";\r\n    }\r\n\r\n    return \"Unknown\";\r\n}\r\n\r\nconst priority = getPriority(mergedTokens);\r\n\r\nconst addItem = async (formInput, priority) => {\r\n  if (!formInput || !priority) {\r\n    alert(\"กรุณากรอกข้อมูลคำร้องขอบริการและการจัดลำดับความสำคัญ!\");\r\n    return;\r\n  }\r\n  try {\r\n    // สถานะเริ่มต้น (เช่น 10 สำหรับ \"เปิดคำร้อง\", 20 สำหรับ \"รับคำร้อง\", 30 สำหรับ \"ไม่รับคำร้อง\", 40 สำหรับ \"กำลังดำเนินการ\", 50 สำหรับ \"ปิดคำร้อง\")\r\n    let objSr = {\r\n      SrCreated: serverTimestamp(),\r\n      SrCreatedBy: \"zpHahY3AcpoKKFWYyzRG\",\r\n      SrDescription: formInput,\r\n      SrId: \"SR-\" + Math.floor(Math.random() * 1000000),\r\n      SrNote: \"\",\r\n      SrPriority: priority,\r\n      SrStatus: 10,\r\n      SrUpdated: null,\r\n      SrUpdatedBy: \"\"\r\n    };\r\n    await addDoc(collection(db, \"ServiceRequest\"), objSr);\r\n    console.log(objSr);\r\n    console.log(\"Document successfully written!\");\r\n  } catch (err) {\r\n    alert(\"การบันทึกคำร้องขอบริการเกิดข้อผิดพลาด!\");\r\n    console.error(\"Error adding document: \", err);\r\n  } finally {\r\n    alert(\"บันทึกคำร้องขอบริการสำเร็จ!\");\r\n    setText({\r\n        \"SrCreated\" : serverTimestamp(),\r\n        \"SrCreatedBy\" : \"\",\r\n        \"SrDescription\" : \"\",\r\n        \"SrId\" : \"\",\r\n        \"SrNote\" : \"\",\r\n        \"SrPriority\" : \"\",\r\n        \"SrStatus\" : 10,\r\n        \"SrUpdated\" : null | \"0000-00-00 00:00:00\",\r\n        \"SrUpdatedBy\" : \"\"\r\n    });\r\n  }\r\n};\r\n\r\nlet isMounted = true;\r\n\r\nuseEffect(() => {\r\n  if (isMounted) {\r\n    addItem(inputText, priority);\r\n    isMounted = false;\r\n  }\r\n\r\n  return () => {\r\n    isMounted = false;\r\n  };\r\n}, []);\r\n\r\nreturn (\r\n  <div style={{ margin: \"auto\", width: \"100%\", padding: \"1rem\", border: \"none\", borderRadius: \"5px\" }}>\r\n    <label>\r\n      <i class=\"fa fa-search\" style={{ color: \"#40c6ed\" }}></i>\r\n      <span style={{ marginLeft: \"5px\", fontWeight: \"bold\" }}> การวิเคราะห์คำร้องขอบริการ (Service Request Analysis)</span>\r\n    </label>\r\n    <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: \"1rem\", marginBottom: \"2rem\" }}>\r\n      <thead>\r\n        <tr style={{ backgroundColor: \"#f2f2f2\" }}>\r\n          <th style={{ borderCollapse: \"collapse\", borderTop:\"2px solid #CCC\", borderBottom:\"2px solid #CCC\", padding: \"3px\" }}>Token</th>\r\n          <th style={{ borderCollapse: \"collapse\", borderTop:\"2px solid #CCC\", borderBottom:\"2px solid #CCC\", padding: \"3px\" }}>Label</th>\r\n          <th style={{ borderCollapse: \"collapse\", borderTop:\"2px solid #CCC\", borderBottom:\"2px solid #CCC\", padding: \"3px\" }}>Confidence</th>\r\n        </tr>\r\n      </thead>\r\n      {JSON.stringify(textLabelMap, null, 2)}\r\n      {//textWithEntities.split(\"#ENT#\").map((ent, idx) => {\r\n        textWithEntities.map((ent, idx) => {\r\n        return (\r\n          <tr key={idx}>\r\n            <td style={{ borderCollapse: \"collapse\", borderBottom:\"1px solid #CCC\", padding: \"5px\" }}><span className={`entity ${ent.label}`}>{ent.text}</span></td>\r\n            <td style={{ borderCollapse: \"collapse\", borderBottom:\"1px solid #CCC\", padding: \"5px\", alignContent: \"center\" }}>{ent.label}</td>\r\n            <td style={{ borderCollapse: \"collapse\", borderBottom:\"1px solid #CCC\", padding: \"5px\", alignContent: \"center\" }}>{ent.confidence}</td>\r\n          </tr>\r\n          );\r\n        })\r\n      }\r\n    </table>\r\n    <i class=\"fa fa-sort-numeric-asc\" style={{ color: \"#40c6ed\" }}></i>\r\n    <span style={{ marginLeft: \"5px\", fontWeight: \"bold\" }}> การจัดลำดับความสำคัญคำร้องขอบริการ (Service Request Priority)</span>\r\n    <div style={{ marginTop: \"1rem\" }} class={priority}>\r\n      <strong>Priority</strong>: {priority}<br/>\r\n    </div>\r\n  </div>);\r\n};\r\n\r\nexport default NERText;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD;AACA,SAASC,EAAE,QAAQ,yBAAyB;AAC5C,SAASC,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAAEC,SAAS,EAAEC,GAAG,EAAEC,eAAe,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElG,MAAMC,OAAO,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAACa,SAAS,CAAC;EACrD,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAC9B;IACE,WAAW,EAAG,IAAI,GAAG,qBAAqB;IAC1C,aAAa,EAAG,EAAE;IAClB,eAAe,EAAG,EAAE;IACpB,MAAM,EAAG,EAAE;IACX,QAAQ,EAAG,EAAE;IACb,YAAY,EAAG,EAAE;IACjB,UAAU,EAAG,EAAE;IACf,WAAW,EAAG,IAAI,GAAG,qBAAqB;IAC1C,aAAa,EAAG;EAClB,CACF,CAAC;;EAED;EACA,MAAMmB,WAAW,GAAIC,MAAM,IAAK;IAC5B,MAAMC,MAAM,GAAG,EAAE;IACjB,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAIC,iBAAiB,GAAG,CAAC;IAEzBJ,MAAM,CAACK,OAAO,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAK;MAC7B;MACA,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAO,CAACJ,CAAC,CAACK,SAAS,CAAC,CAACC,MAAM,CACnD,CAACC,GAAG,EAAE,CAACC,KAAK,EAAEC,IAAI,CAAC,KAAKA,IAAI,GAAGF,GAAG,CAACE,IAAI,GAAG;QAAED,KAAK;QAAEC;MAAK,CAAC,GAAGF,GAAG,EAC/D;QAAEC,KAAK,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAE,CACzB,CAAC;;MAED;MACA,IAAIP,YAAY,CAACM,KAAK,KAAK,GAAG,EAAE;MAEhC,IAAIR,CAAC,CAACU,KAAK,CAACC,UAAU,CAAC,IAAI,CAAC,EAAE;QAC1Bf,YAAY,IAAII,CAAC,CAACU,KAAK,CAACE,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;MAC7C,CAAC,MAAM;QACH;QACA,IAAIhB,YAAY,EAAE;UACd;UACAD,MAAM,CAACkB,IAAI,CAAC;YACRH,KAAK,EAAEd,YAAY;YACnBY,KAAK,EAAEX,YAAY;YACnBiB,UAAU,EAAEhB;UAChB,CAAC,CAAC;QACN;QACA;QACAF,YAAY,GAAGI,CAAC,CAACU,KAAK;QACtBb,YAAY,GAAGK,YAAY,CAACM,KAAK;QACjCV,iBAAiB,GAAGI,YAAY,CAACO,IAAI;MACzC;;MAEA;MACA,IAAIR,KAAK,KAAKP,MAAM,CAACqB,MAAM,GAAG,CAAC,EAAE;QAC7B,IAAInB,YAAY,EAAE;UACdD,MAAM,CAACkB,IAAI,CAAC;YACRH,KAAK,EAAEd,YAAY;YACnBY,KAAK,EAAEX,YAAY;YACnBiB,UAAU,EAAEhB;UAChB,CAAC,CAAC;QACN;MACJ;IACJ,CAAC,CAAC;IAEF,OAAOH,MAAM;EACjB,CAAC;EAED,MAAMqB,YAAY,GAAGvB,WAAW,CAACP,IAAI,CAAC;EAEtC,MAAM+B,MAAM,GAAG,CAAC,CAAC;EACjB,MAAMC,gBAAgB,GAAGF,YAAY,CAACG,GAAG,CAAC,CAACnB,CAAC,EAAEoB,GAAG,KAAK;IAChD,OAAOH,MAAM,CAACjB,CAAC,CAACQ,KAAK,CAAC,GAAG;MACvBjB,IAAI,EAAES,CAAC,CAACU,KAAK;MACbI,UAAU,EAAEd,CAAC,CAACc;IAChB,CAAC;EACP,CAAC,CAAC,CAAC,CAAC;;EAEJ,MAAMO,YAAY,GAAIA,CAAA,KAAM;IACxB,KAAI,MAAMrB,CAAC,IAAIiB,MAAM,EAAC;MACpB,MAAMK,QAAQ,GAAGD,YAAY,CAACrB,CAAC,CAACQ,KAAK,CAAC;MACtC,IAAI,CAACc,QAAQ,EAAE;QACX;QACAD,YAAY,CAACrB,CAAC,CAACQ,KAAK,CAAC,GAAG;UAAEA,KAAK,EAAER,CAAC,CAACT,IAAI;UAAEuB,UAAU,EAAEd,CAAC,CAACc;QAAW,CAAC;MACvE,CAAC,MAAM,IAAGd,CAAC,CAACc,UAAU,GAAGQ,QAAQ,CAACR,UAAU,EAAE;QAC1C;QACAO,YAAY,CAACrB,CAAC,CAACQ,KAAK,CAAC,GAAG;UACpBjB,IAAI,EAAES,CAAC,CAACT,IAAI;UACZuB,UAAU,EAAEd,CAAC,CAACc;QAClB,CAAC;MACL;IACF;IACA,OAAOO,YAAY;EACvB,CAAE;EAEF,MAAME,WAAW,GAAIC,QAAQ,IAAK;IAC9B,MAAMC,qBAAqB,GAAG,CAC1B,cAAc,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,aAAa,EAAE,KAAK,EAC3F,4BAA4B,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,qBAAqB,EACzH,OAAO,EAAE,gBAAgB,EAAE,eAAe,EAAE,oBAAoB,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAClG,SAAS,EAAE,gCAAgC,EAAE,iBAAiB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAC7F,oBAAoB,EAAE,cAAc,EAAE,SAAS,EAAE,cAAc,EAAE,gBAAgB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,UAAU,EAC5H,QAAQ,EAAE,YAAY,EAAE,iBAAiB,EAAE,aAAa,EAAE,eAAe,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EACrG,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,YAAY,EAAE,aAAa,EAAE,QAAQ,EAC7F,qBAAqB,EAAE,UAAU,EAAE,QAAQ,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,SAAS,EACjG,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EACrF,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW,CAC1G;IACD,MAAMC,SAAS,GAAG,CACd,YAAY,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,UAAU,EAAE,iBAAiB,EAAE,uBAAuB,EAAE,oBAAoB,EACvI,kBAAkB,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,mBAAmB,EAC1I,mBAAmB,EAAE,OAAO,EAAE,uBAAuB,EAAE,iBAAiB,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,CAC9G;IACD,MAAMC,WAAW,GAAG,CAChB,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAC3F,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,kBAAkB,EAAE,wBAAwB,EAAE,mBAAmB,EAAE,iBAAiB,EACpI,sBAAsB,EAAE,yBAAyB,EAAE,wBAAwB,EAAE,gBAAgB,EAAE,aAAa,EAAE,iBAAiB,CAClI;IACD,MAAMC,QAAQ,GAAG,CACb,YAAY,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAE,oBAAoB,EAAE,WAAW,EAAE,cAAc,EAAE,qBAAqB,EAAE,SAAS,EACpI,YAAY,EAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,aAAa,EAC9I,iBAAiB,EAAE,cAAc,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,gBAAgB,EAC5I,iBAAiB,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,cAAc,EAAE,kBAAkB,EAAE,cAAc,EAAE,aAAa,CAClI;IAED,MAAMC,cAAc,GAAGL,QAAQ,CAC1BM,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACvB,KAAK,KAAK,aAAa,CAAC,CACtCW,GAAG,CAACY,CAAC,IAAIA,CAAC,CAACrB,KAAK,CAACsB,WAAW,CAAC,CAAC,CAAC;IACpC,MAAMC,UAAU,GAAGT,QAAQ,CACtBM,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACvB,KAAK,KAAK,SAAS,CAAC,CAClCW,GAAG,CAACY,CAAC,IAAIA,CAAC,CAACrB,KAAK,CAACsB,WAAW,CAAC,CAAC,CAAC;IAEpCE,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGC,IAAI,CAACC,SAAS,CAACR,cAAc,CAAC,GAAG,WAAW,GAAGO,IAAI,CAACC,SAAS,CAACJ,UAAU,CAAC,CAAC;;IAEtG;IACA,IACIJ,cAAc,CAACS,IAAI,CAACC,CAAC,IAAId,qBAAqB,CAACa,IAAI,CAACE,EAAE,IAAID,CAAC,CAACE,QAAQ,CAACD,EAAE,CAAC,CAAC,CAAC,IAC1EP,UAAU,CAACK,IAAI,CAACI,CAAC,IAAIhB,SAAS,CAACY,IAAI,CAACK,EAAE,IAAID,CAAC,CAACD,QAAQ,CAACE,EAAE,CAAC,CAAC,CAAC,EAC5D;MACE,OAAO,MAAM;IACjB;;IAEA;IACA,IAAIV,UAAU,CAACK,IAAI,CAACI,CAAC,IAAIf,WAAW,CAACW,IAAI,CAACM,EAAE,IAAIF,CAAC,CAACD,QAAQ,CAACG,EAAE,CAAC,CAAC,CAAC,EAAE;MAC9D,OAAO,QAAQ;IACnB;;IAEA;IACA,IAAIX,UAAU,CAACK,IAAI,CAACI,CAAC,IAAId,QAAQ,CAACU,IAAI,CAACO,EAAE,IAAIH,CAAC,CAACD,QAAQ,CAACI,EAAE,CAAC,CAAC,CAAC,EAAE;MAC3D,OAAO,KAAK;IAChB;IAEA,OAAO,SAAS;EACpB,CAAC;EAED,MAAMC,QAAQ,GAAGvB,WAAW,CAACP,YAAY,CAAC;EAE1C,MAAM+B,OAAO,GAAG,MAAAA,CAAO5D,SAAS,EAAE2D,QAAQ,KAAK;IAC7C,IAAI,CAAC3D,SAAS,IAAI,CAAC2D,QAAQ,EAAE;MAC3BE,KAAK,CAAC,uDAAuD,CAAC;MAC9D;IACF;IACA,IAAI;MACF;MACA,IAAIC,KAAK,GAAG;QACVC,SAAS,EAAEpE,eAAe,CAAC,CAAC;QAC5BqE,WAAW,EAAE,sBAAsB;QACnCC,aAAa,EAAEjE,SAAS;QACxBkE,IAAI,EAAE,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;QACjDC,MAAM,EAAE,EAAE;QACVC,UAAU,EAAEZ,QAAQ;QACpBa,QAAQ,EAAE,EAAE;QACZC,SAAS,EAAE,IAAI;QACfC,WAAW,EAAE;MACf,CAAC;MACD,MAAMnF,MAAM,CAACD,UAAU,CAACD,EAAE,EAAE,gBAAgB,CAAC,EAAEyE,KAAK,CAAC;MACrDf,OAAO,CAACC,GAAG,CAACc,KAAK,CAAC;MAClBf,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAC/C,CAAC,CAAC,OAAO2B,GAAG,EAAE;MACZd,KAAK,CAAC,wCAAwC,CAAC;MAC/Cd,OAAO,CAAC6B,KAAK,CAAC,yBAAyB,EAAED,GAAG,CAAC;IAC/C,CAAC,SAAS;MACRd,KAAK,CAAC,6BAA6B,CAAC;MACpCxD,OAAO,CAAC;QACJ,WAAW,EAAGV,eAAe,CAAC,CAAC;QAC/B,aAAa,EAAG,EAAE;QAClB,eAAe,EAAG,EAAE;QACpB,MAAM,EAAG,EAAE;QACX,QAAQ,EAAG,EAAE;QACb,YAAY,EAAG,EAAE;QACjB,UAAU,EAAG,EAAE;QACf,WAAW,EAAG,IAAI,GAAG,qBAAqB;QAC1C,aAAa,EAAG;MACpB,CAAC,CAAC;IACJ;EACF,CAAC;EAED,IAAIkF,SAAS,GAAG,IAAI;EAEpBzF,SAAS,CAAC,MAAM;IACd,IAAIyF,SAAS,EAAE;MACbjB,OAAO,CAAC1D,SAAS,EAAEyD,QAAQ,CAAC;MAC5BkB,SAAS,GAAG,KAAK;IACnB;IAEA,OAAO,MAAM;MACXA,SAAS,GAAG,KAAK;IACnB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEhF,OAAA;IAAKiF,KAAK,EAAE;MAAEC,MAAM,EAAE,MAAM;MAAEC,KAAK,EAAE,MAAM;MAAEC,OAAO,EAAE,MAAM;MAAEC,MAAM,EAAE,MAAM;MAAEC,YAAY,EAAE;IAAM,CAAE;IAAAC,QAAA,gBAClGvF,OAAA;MAAAuF,QAAA,gBACEvF,OAAA;QAAGwF,KAAK,EAAC,cAAc;QAACP,KAAK,EAAE;UAAEQ,KAAK,EAAE;QAAU;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzD7F,OAAA;QAAMiF,KAAK,EAAE;UAAEa,UAAU,EAAE,KAAK;UAAEC,UAAU,EAAE;QAAO,CAAE;QAAAR,QAAA,EAAC;MAAsD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChH,CAAC,eACR7F,OAAA;MAAOiF,KAAK,EAAE;QAAEE,KAAK,EAAE,MAAM;QAAEa,cAAc,EAAE,UAAU;QAAEC,SAAS,EAAE,MAAM;QAAEC,YAAY,EAAE;MAAO,CAAE;MAAAX,QAAA,gBACnGvF,OAAA;QAAAuF,QAAA,eACEvF,OAAA;UAAIiF,KAAK,EAAE;YAAEkB,eAAe,EAAE;UAAU,CAAE;UAAAZ,QAAA,gBACxCvF,OAAA;YAAIiF,KAAK,EAAE;cAAEe,cAAc,EAAE,UAAU;cAAEI,SAAS,EAAC,gBAAgB;cAAEC,YAAY,EAAC,gBAAgB;cAAEjB,OAAO,EAAE;YAAM,CAAE;YAAAG,QAAA,EAAC;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChI7F,OAAA;YAAIiF,KAAK,EAAE;cAAEe,cAAc,EAAE,UAAU;cAAEI,SAAS,EAAC,gBAAgB;cAAEC,YAAY,EAAC,gBAAgB;cAAEjB,OAAO,EAAE;YAAM,CAAE;YAAAG,QAAA,EAAC;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChI7F,OAAA;YAAIiF,KAAK,EAAE;cAAEe,cAAc,EAAE,UAAU;cAAEI,SAAS,EAAC,gBAAgB;cAAEC,YAAY,EAAC,gBAAgB;cAAEjB,OAAO,EAAE;YAAM,CAAE;YAAAG,QAAA,EAAC;UAAU;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,EACPzC,IAAI,CAACC,SAAS,CAAChB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;MACrC;MACCH,gBAAgB,CAACC,GAAG,CAAC,CAACmE,GAAG,EAAElE,GAAG,KAAK;QACnC,oBACEpC,OAAA;UAAAuF,QAAA,gBACEvF,OAAA;YAAIiF,KAAK,EAAE;cAAEe,cAAc,EAAE,UAAU;cAAEK,YAAY,EAAC,gBAAgB;cAAEjB,OAAO,EAAE;YAAM,CAAE;YAAAG,QAAA,eAACvF,OAAA;cAAMuG,SAAS,EAAE,UAAUD,GAAG,CAAC9E,KAAK,EAAG;cAAA+D,QAAA,EAAEe,GAAG,CAAC/F;YAAI;cAAAmF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxJ7F,OAAA;YAAIiF,KAAK,EAAE;cAAEe,cAAc,EAAE,UAAU;cAAEK,YAAY,EAAC,gBAAgB;cAAEjB,OAAO,EAAE,KAAK;cAAEoB,YAAY,EAAE;YAAS,CAAE;YAAAjB,QAAA,EAAEe,GAAG,CAAC9E;UAAK;YAAAkE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClI7F,OAAA;YAAIiF,KAAK,EAAE;cAAEe,cAAc,EAAE,UAAU;cAAEK,YAAY,EAAC,gBAAgB;cAAEjB,OAAO,EAAE,KAAK;cAAEoB,YAAY,EAAE;YAAS,CAAE;YAAAjB,QAAA,EAAEe,GAAG,CAACxE;UAAU;YAAA4D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA,GAHhIzD,GAAG;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAIR,CAAC;MAEP,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEC,CAAC,eACR7F,OAAA;MAAGwF,KAAK,EAAC,wBAAwB;MAACP,KAAK,EAAE;QAAEQ,KAAK,EAAE;MAAU;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnE7F,OAAA;MAAMiF,KAAK,EAAE;QAAEa,UAAU,EAAE,KAAK;QAAEC,UAAU,EAAE;MAAO,CAAE;MAAAR,QAAA,EAAC;IAA8D;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC7H7F,OAAA;MAAKiF,KAAK,EAAE;QAAEgB,SAAS,EAAE;MAAO,CAAE;MAACT,KAAK,EAAE1B,QAAS;MAAAyB,QAAA,gBACjDvF,OAAA;QAAAuF,QAAA,EAAQ;MAAQ;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,MAAE,EAAC/B,QAAQ,eAAC9D,OAAA;QAAA0F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AACR,CAAC;AAACzF,EAAA,CAjPIH,OAAO;AAAAwG,EAAA,GAAPxG,OAAO;AAmPb,eAAeA,OAAO;AAAC,IAAAwG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}